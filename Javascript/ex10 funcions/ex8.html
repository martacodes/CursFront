<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
/*     Fes una funció que donat un número de DNI, calculi si la lletra és correcta. Tingues present que la lletra del DNI es calcula en dos passos:
        a. Calcular el mòdul del número del DNI respecte 23
        b. El resultat de l’operació anterior ha de correspondre a la posició del següent string:
        var lletres =”TRWAGMYFPDXBNJZSQVHLCKE”; */
        
        var lletres = "TRWAGMYFPDXBNJZSQVHLCKE";
        let dni = prompt("Escriu el teu DNI (8 números i una lletra")

        //Busca si hi ha una lletra VALIDACIÓ
        function buscarlletra(dni) {
           let posicioLletra = dni.search(/[0-9]\w/);
           return posicioLletra
        }
        let lletra = buscarlletra(dni);
        console.log(lletra);

        //divideix string en números i lletres
        function dividirDni(dni) {
            let divNum = dni.slice(0,(dni.length-1));
            return divNum
        };
        let num = dividirDni(dni);//tinc el número del dni
        console.log(num);

        //parseint + modul per 23 per saber valor i quina lletra li correspon.
        function modul(num) {
            parseInt(num);
            let resul = num%23;
            return resul
        }
        let posicioNum = modul(num);
        console.log(posicioNum);
        console.log(lletres.charAt(posicioNum));
        console.log(dni.charAt(dni.length-1));

        //comparar lletra i posició.
        function comparar(posicioNum,dni) {
            if (lletres.charAt(posicioNum)== dni.charAt(dni.length-1)) { //compara la posició lletra a l'string donat i al DNI segons números i mòdul
            window.alert("la lletra que has introduit és correcta!")
        } else {
            window.alert("La lletra que has posat és incorrecta.")
        }}

        let comparacioFi = comparar(posicioNum,dni);
        console.log(comparacioFi);
   

        </script>
</body>
</html>